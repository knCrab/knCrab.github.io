<!doctype html>
<html lang="ja">
  
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" rel="stylesheet" />
    <!-- footer固定用 js -->
    <script type="text/javascript" src="https://www.revalab.net/theme/js/footerfixed.js"></script> 

    <!-- CSS読み込み -->
    <link href="https://www.revalab.net/theme/prism.css" rel="stylesheet" />
    <link href="https://www.revalab.net/theme/style.css" rel="stylesheet" />
    
    <!-- 検索用のcss -->
    <link rel="stylesheet" href="https://www.revalab.net/theme/basic.css" />
    
    <link rel="shortcut icon" href="https://www.revalab.net/favicon.ico" type="image/vnd.microsoft.icon">
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4085279763090083"
     crossorigin="anonymous"></script>
  </head>

  <body>
    <header id="header">
      <a href="https://www.revalab.net/"><img src="/theme/images/kanicrab_logo.PNG" alt="" width="400" height="113" style="border-style: none; margin: 0px;"></a>
      <p style="margin: 0px 0px 0px 20px; padding-bottom: 5px;">PythonやPC関連の情報をまとめているブログです</p>
    </header>

    <hr class="header-line" size="30">
    
    <div id="page">
      <article id="main-content">
    <ol class="breadcrumb">
      <li><a href="https://www.revalab.net"><span>Home</span></a><span style="margin: 0px 10px">/</span></li>
      <li><a href="https://www.revalab.net/categories.html">Categories</a><span style="margin: 0px 10px">/</span></li>
      <li class="active">Python</li>
    </ol>
    <section id="content" class="article content">
      <header>
        <h2 class="entry-title">
          【Python】辞書のキー有無で条件分岐：get メソッド
        </h2>
        
      </header>
<div class="part1">
    <ul class="i-list">
        <li class="i-item"><span>Category: </span><a href="https://www.revalab.net/category/python.html">Python</a></li>
        <li class="i-item"><span>Tags: </span><a href="https://www.revalab.net/tag/python.html">Python</a> </li>
        <br>
        <li class="i-item">
            <span>Posted on: </span>2022-02-06
        </li>
            <br>
            <li class="i-item">
                <span>Updated on: </span>2022-09-04
            </li>
    </ul>
</div><!-- .entry-content -->
      <div class="entry-content">
        <main>
        <div class="admonition abstract">
<p>本記事では辞書のキーを使って条件分岐をする方法をご紹介します．</p>
</div>
<div class="toc"><span class="toctitle">目次</span><ul>
<li><a href="#_1">事前準備</a><ul>
<li><a href="#2">辞書のキーで値を取得する方法（２つ）</a></li>
<li><a href="#2_1">２つの方法の違い</a></li>
<li><a href="#_2">辞書のキー有無で条件分岐</a></li>
</ul>
</li>
<li><a href="#_3">ひとこと</a></li>
</ul>
</div>
<h2 id="_1">事前準備</h2>
<p>まずはサンプルとなる辞書を作成します．</p>
<pre><code class="language-python">
d = {'ほたて': 1000, 'えび': 200, 'かに': 30}
</code></pre>

<h3 id="2">辞書のキーで値を取得する方法（２つ）</h3>
<p>辞書のキーを指定してその値を取得する方法は以下の２種類があります．</p>
<ul>
<li><code>辞書['キー名']</code></li>
<li><code>辞書.get('キー名')</code></li>
</ul>
<p>それぞれの方法を使って「ほたて」キーの値を取得してみます．</p>
<pre><code class="language-python">
# []を使用してキーの値を取得
print(d['ほたて'])

# getメソッドでキーの値を取得
print(d.get('ほたて'))
</code></pre>
<pre style="margin-bottom: 30px;">
1000
1000
</pre>

<p>それぞれ「ほたて」キーの値である<code>1000</code>が取得できていますね．<br>
なお<code>get</code>メソッドはPython組み込みのメソッドです．</p>
<h3 id="2_1">２つの方法の違い</h3>
<p>両者の違いは指定したキーが存在しなかった際の挙動です．<br>
<code>辞書['キー名']</code>では指定したキーが存在しなかった場合<code>KeyError</code>となってしまいます．</p>
<pre><code class="language-python">
# []を使用する場合，存在しないキーを指定するとKeyError
print(d['まぐろ'])
</code></pre>
<pre style="margin-bottom: 90px;">
KeyError: 'まぐろ'
</pre>

<p>一方で<code>get</code>メソッドを使用した方法では指定したキーが存在しない場合<code>None</code>を返します．<br>
（<code>KeyError</code>は発生しません）</p>
<pre><code class="language-python">
# getメソッドの場合はKeyErrorとはならず，Noneを返す
print(d.get('まぐろ'))
</code></pre>
<pre style="margin-bottom: 90px;">
None
</pre>

<p>また<code>get</code>メソッドでは指定したキーが存在しない場合に返す値を指定することができます.<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup></p>
<pre style="margin-bottom: 20px;"><code class="language-python">
# getメソッドの第二引数にはキーが存在しない際の返り値を指定できる
print(d.get('まぐろ', '「まぐろ」キーがありません...'))
</code></pre>
<pre style="margin-bottom: 90px;">
「まぐろ」キーがありません...
</pre>

<h3 id="_2">辞書のキー有無で条件分岐</h3>
<p><code>get</code>メソッドを使用し，キーが存在しない場合は<code>False</code>を返すようなコードを作成します．<br>
そのコードを<code>if</code>文の条件式に入れて「キーが存在すれば・・・」という処理が可能です．</p>
<pre><code class="language-python">
# 辞書の定義
d = {'まぐろ': 1000, 'えび': 200, 'かに': 30}

# if文と組み合わせてキーの有無に応じた条件分岐
if d.get('まぐろ', False):
    d['まぐろ'] = 1200

print(d)
</code></pre>
<pre style="margin-bottom: 60px;">
{'まぐろ': 1200, 'えび': 200, 'かに': 30}
</pre>

<div class="admonition explanation">
<p class="admonition-title">解説</p>
<p><code>if</code>文の条件式で「まぐろキーが存在すれば」としています．<br>
もしまぐろキーがない場合は<code>get</code>メソッドによって<code>False</code>が返されるので<code>if</code>文内の処理は実行されません．</p>
<p>今回の辞書には「まぐろキー」が存在するため<code>if</code>文内の処理が実行されています.<sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup></p>
</div>
<h2 id="_3">ひとこと</h2>
<p><code>get</code>メソッドは便利ですね．<br>
色々な情報を辞書に詰め込んで処理することが多く，条件によってはキーがあったりなかったりするのでこの方法を使っています．</p>
<div style="margin-bottom: 100px;"></div>

<div class="footnote">
<hr>
<ol>
<li id="fn:1">
<p>デフォルトでは<code>None</code>を返します．上記のコードではキーが存在しない場合に返す値を指定していないので<code>None</code>が返ってきています．&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>「まぐろキー」の値が<code>1000</code>→<code>1200</code>になりました．&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
</ol>
</div>
        </main>
      </div>
<!-- /.entry-content -->
      <!-- <footer class="post-info text-muted">
        <button type="button" class="btn btn-default">          
          <a href="https://www.revalab.net/category/python.html"><div class="fa fa-lg fa-folder-open"></div> Python</a>
        </button>
        <button type="button" class="btn btn-default">
          <a href="https://www.revalab.net/tag/python.html"><div class="fa fa-lg fa-tag"></div> Python</a>
        </button>
      </footer> -->
      <!-- /.post-info -->
    </section>
      
      </article>

      <aside id="sidebar">
        <h4 class="side-top" style="margin-bottom: 0px;">サイト内検索</h4>
        <input data-stork="sitesearch" class="search-box" type="text" placeholder="キーワードを入力" /><div data-stork="sitesearch-output"></div>
        <span style="font-size: 14px;">３文字以上でヒット記事を表示します．</span><br>
        <span style="font-size: 14px;">検索結果はスクロール可能です．</span>

        <h4>サイト情報</h4>
        <ul>
          <li>管理人  ：<a href="https://www.revalab.net/pages/about.html">かに</a></li>
          <li>Twitter ：<a href="https://twitter.com/@kaniCrab_blog" target="_blank" rel="noopener noreferrer">かにクラブ</a></li>
          <li>記事一覧：<a href="https://www.revalab.net/archives.html">アーカイブ</a></li>
        </ul>

        <h4>おすすめの記事</h4>
        <ul>
          <li style="margin: 15px 0px;"><a href="https://www.revalab.net/articles/auto-command.html">【Mac】簡単３ステップで自動化（自作）コマンドを作成する </a></li>
          <li style="margin: 15px 0px;"><a href="https://www.revalab.net/articles/python-pyenv-poetry.html">【M2 Mac】Pyenv/PoetryによるPython環境構築</a></li>
          <li style="margin: 15px 0px;"><a href="https://www.revalab.net/articles/copyclip-2-paste-directly.html">【Mac】CopyClip2 クリップボード管理アプリのおすすめ設定 </a></li>
        </ul>
        <h4>カテゴリー</h4>
        <ul class="side-c">          <li>
              <a href="https://www.revalab.net/category/burogu.html"> ブログ </a>
          </li>
          <li>
              <a href="https://www.revalab.net/category/google-workspace.html"> Google Workspace </a>
          </li>
          <li>
              <a href="https://www.revalab.net/category/mac.html"> Mac </a>
          </li>
          <li>
              <a href="https://www.revalab.net/category/maclinux.html"> Mac/Linux </a>
          </li>
          <li>
              <a href="https://www.revalab.net/category/python.html"> Python </a>
          </li>
          <li>
              <a href="https://www.revalab.net/category/slack.html"> Slack </a>
          </li>
          <li>
              <a href="https://www.revalab.net/category/sql.html"> SQL </a>
          </li>
          <li>
              <a href="https://www.revalab.net/category/vscode.html"> VSCode </a>
          </li>
        </ul>
        <h4>Tag</h4>
        <div class="side-t">
          <ul class="list-inline">            <li class="category-design">
                <a class="category-design" href="https://www.revalab.net/tag/app.html"> App  <span class="category-design">(1)</span></a>
            </li>
            <li class="category-design">
                <a class="category-design" href="https://www.revalab.net/tag/docker.html"> Docker  <span class="category-design">(1)</span></a>
            </li>
            <li class="category-design">
                <a class="category-design" href="https://www.revalab.net/tag/googlesuraido.html"> Googleスライド  <span class="category-design">(1)</span></a>
            </li>
            <li class="category-design">
                <a class="category-design" href="https://www.revalab.net/tag/huan-jing-gou-zhu.html"> 環境構築  <span class="category-design">(3)</span></a>
            </li>
            <li class="category-design">
                <a class="category-design" href="https://www.revalab.net/tag/jupyter.html"> Jupyter  <span class="category-design">(3)</span></a>
            </li>
            <li class="category-design">
                <a class="category-design" href="https://www.revalab.net/tag/keynote.html"> Keynote  <span class="category-design">(2)</span></a>
            </li>
            <li class="category-design">
                <a class="category-design" href="https://www.revalab.net/tag/numbers.html"> Numbers  <span class="category-design">(2)</span></a>
            </li>
            <li class="category-design">
                <a class="category-design" href="https://www.revalab.net/tag/pandas.html"> pandas  <span class="category-design">(9)</span></a>
            </li>
            <li class="category-design">
                <a class="category-design" href="https://www.revalab.net/tag/pelican.html"> pelican  <span class="category-design">(1)</span></a>
            </li>
            <li class="category-design">
                <a class="category-design" href="https://www.revalab.net/tag/postgresql.html"> PostgreSQL  <span class="category-design">(5)</span></a>
            </li>
            <li class="category-design">
                <a class="category-design" href="https://www.revalab.net/tag/python.html"> Python  <span class="category-design">(22)</span></a>
            </li>
            <li class="category-design">
                <a class="category-design" href="https://www.revalab.net/tag/r.html"> R  <span class="category-design">(2)</span></a>
            </li>
            <li class="category-design">
                <a class="category-design" href="https://www.revalab.net/tag/scipy.html"> SciPy  <span class="category-design">(2)</span></a>
            </li>
            <li class="category-design">
                <a class="category-design" href="https://www.revalab.net/tag/shellscript.html"> shellscript  <span class="category-design">(4)</span></a>
            </li>
            <li class="category-design">
                <a class="category-design" href="https://www.revalab.net/tag/slack.html"> Slack  <span class="category-design">(1)</span></a>
            </li>
            <li class="category-design">
                <a class="category-design" href="https://www.revalab.net/tag/vim.html"> Vim  <span class="category-design">(1)</span></a>
            </li>
            <li class="category-design">
                <a class="category-design" href="https://www.revalab.net/tag/xing-hinto.html"> 型ヒント  <span class="category-design">(2)</span></a>
            </li>
            <li class="category-design">
                <a class="category-design" href="https://www.revalab.net/tag/za-ji.html"> 雑記  <span class="category-design">(2)</span></a>
            </li>
            <li class="category-design">
                <a class="category-design" href="https://www.revalab.net/tag/zi-dong-hua.html"> 自動化  <span class="category-design">(1)</span></a>
            </li>
            <li class="category-design">
                <a class="category-design" href="https://www.revalab.net/tag/zi-ran-yan-yu-chu-li.html"> 自然言語処理  <span class="category-design">(3)</span></a>
            </li>
            <li class="category-design">
                <a class="category-design" href="https://www.revalab.net/tag/zsh.html"> zsh  <span class="category-design">(6)</span></a>
            </li>
          </ul>
        </div>
        
        <h4>ads</h4>
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4085279763090083"
            crossorigin="anonymous"></script>
        <!-- kaniCrab_side -->
        <ins class="adsbygoogle"
            style="display:block"
            data-ad-client="ca-pub-4085279763090083"
            data-ad-slot="7527002853"
            data-ad-format="auto"
            data-full-width-responsive="true"></ins>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
        </script>

        <h4>推薦書籍</h4>
        <ul>
          <li><a href="#">準備中</a></li>
          <li><a href="#">準備中</a></li>
          <li><a href="#">準備中</a></li>
        </ul>
      </aside>

      <footer id="footer">
      <div class="copyright">
          <ul class="copy-ul">
            <li class="copy-li" style="margin-right: 10px;"><a href="https://www.revalab.net/pages/about.html">管理人</a></li>
            <li class="copy-li" style="margin: 0px 10px 0px 10px;"><a href="https://www.revalab.net/pages/contact.html">お問い合わせ</a></li>
            <li class="copy-li" style="margin-left: 10px;"><a href="https://www.revalab.net/pages/privacy-policy.html">プライバシーポリシー/免責事項</a></li>
          </ul>
          <div>&copy; 2022 <a href="https://www.revalab.net">かにクラブ</a> powered by <a href="http://getpelican.com/">pelican</a></div>
        </div>
      </footer>
    </div>
      
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    
    <!-- footnoteのためのjquery -->
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
    <script type="text/javascript" src="https://www.revalab.net/theme/js/prism.js"></script>
    <script type="text/javascript" src="https://www.revalab.net/theme/js/footnotes.js"></script>
    
    <!-- 検索用のjavascript -->
    <script src="https://files.stork-search.net/releases/v1.5.0/stork.js"></script>
    <script>
        stork.register("sitesearch", "https://www.revalab.net/search-index.st")
    </script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-172023948-2', 'auto');
      ga('send', 'pageview');

    </script>
    
  </body>
</html>